<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/ressources/css/pages-artistes.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>
</head>

<body>
<<<<<<< HEAD
    {{$ID:= .A.Id}}
    <div class="div-artist">
        <div class="pA-img">
            <h2 class="h_name">Nom: {{ (index .A.ApiArtist $ID).Name }}</h2>
            <img class="img-artist" src="{{ (index .A.ApiArtist $ID).Image }}">
            <h2 class="h2">Date de création: {{ (index .A.ApiArtist $ID).CreationDate }}</h2>
            <h2 class="h2">Date du premier album: {{ (index .A.ApiArtist $ID).FirstAlbum }}</h2>
            <h2 class="h2">Groupe:<br> {{ range (index .A.ApiArtist $ID).Members }} {{.}} <br> {{end}}</h2>
            <h2 class="h2">Date:<br> {{ range (index .A.ApiDates $ID).Dates }} {{.}} <br> {{end}}</h2>
            <h2 class="h2">Locations:<br> {{ range (index .A.ApiLocations $ID).Locations }} {{.}} <br> {{end}}</h2>
            <h2 class="h2">Rélation:<br>{{ range $key, $value := (index .A.ApiRelations $ID).DatesLocations}} {{ $key }} <br> {{ range $value }} {{.}}<br> {{ end }}{{end}}</h2>

=======
    {{$ID:= .Main.A.Id}}
        <div id="top-page"> 
            <div class="sidebar">
                <a class="back-to-home" href="/">back to Home</a>
                <a class="back-to-artist" href="/artiste">Back to list of artists</a>
            </div>
            <div class="popo"> 
                <div class="left-text">
                    <img class="img-artist" src="{{ (index .Main.A.ApiArtist $ID).Image }}">
                    <br>
                    <h2 class="h_name">{{ (index .Main.A.ApiArtist $ID).Name }}</h2>
                    <h2 class="h2">{{ (index .Main.A.ApiArtist $ID).CreationDate }}</h2>
                    <br>
                </div>
                <div class="pipi">
                    <a class="more-info" href="#grp" disabled> more info</a>
            
                </div> 
            </div>
>>>>>>> f365bbc1dbb8bd9cf541b46d4182548aa85e2414
        </div>
        
            <div id="grp">
                <div class="papa">
                    <div class="bottom-info">
                        <h2>Group members : <br> {{ range (index .Main.A.ApiArtist $ID).Members }} {{.}} <br> {{end}}</h2>
                    </div>
                    <div class="First-album">
                        <h2 class="FA">First album : {{ (index .Main.A.ApiArtist $ID).FirstAlbum }}</h2>
                    </div>
                </div>
                <div class="button-2">
                    <a class="concert-button" href="#concert-map" disabled> See concerts</a>
                </div>
            </div>
            <div id="concert-map">
                <a class="back-to-top" href="#top-page">Back to top</a>
                <div class="bottom-page">
                    <div class="rel">
                        <h2 class="h2">Concerts:<br>{{ range $key, $value := (index .Main.A.ApiRelations $ID).DatesLocations}} - {{ $key }}  :  {{ range $value }} {{.}}<br> {{ end }} {{ end }}</h2>
                    </div>
                    <div id="map"></div>
                    <script>
                        var map = L.map('map').setView([50,0],2)
                        let allLocs = "{{.Locs}}".replace(/]/g, "],").slice(1, -3).replace(/ /g, ', ')
                        allLocs =  allLocs.split(',, ')
                        // allLocs = allLocs.slice(0, -3) + "]"
                        // console.log(allLocs, typeof allLocs)
                            allLocs.forEach(element => {
                                L.marker(JSON.parse(element).reverse()).addTo(map);    
                            });
                    
                            L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
                            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                            maxZoom: 18,
                            id: 'mapbox/streets-v11',
                            tileSize: 512,
                            zoomOffset: -1,
                            accessToken: 'pk.eyJ1IjoiYm9udGFheiIsImEiOiJjbDBnajQwazYwMGFqM2VxdnJkdDdpZmgxIn0.Cjpn9M5HiKAvVynLZbPlaQ'
                            }).addTo(map);
                        </script>
                </div>
            </div>
</body>

</html>