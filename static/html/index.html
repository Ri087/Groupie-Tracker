<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/ressources/css/style.css" />
    <link rel="stylesheet" href="/ressources/css/searchbar.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
    <title>TEST</title>
</head>

<body>

    <div id="main-flex">
        <div id="main-page">
            <div id="div-button-container">
                <ul id="liste-items">
                    <li><a class="a" href="#second-page">ARTISTE</a></li>
                    <li><a class="a" href="#third-page">EVENT</a></li>
                    <li><a class="a" href="/contact">CONTACT</a></li>
                    <li><a class="a" href="/connection">CONNECTION</a></li>
                </ul>
            </div>
        </div>
        <div id="second-page">
            <div class="page-artist">
                <div class="s-top">
                    <h3 class="s-title">Top Artist</h3>
                </div>
                <div class="s-mid">
                    {{range $index, $elements := .A.ApiArtist }} {{if (lt $index 3)}}
                    <div class="s-artist">
                        <a href="/artiste/{{.Id}}" class="s-a-etiquette">
                            <div class="s-a-top">
                                <div class="s-a-div-t">
                                    <h3 class="s-a-title">{{$elements.Name}}</h3>
                                </div>
                            </div>
                            <div class="s-a-bot">
                                <img class="s-a-img" src="{{$elements.Image}}">
                            </div>
                        </a>
                    </div>
                    {{end}}{{end}}
                </div>
                <div class="s-bot">
                    <form action="/filtre-search-bar" method="post" onChange="submit()">
                        <select name="select-option">
                            <option value="">-- {{.ADF.SearchBar}} --</option>
                            <option value="artiste">Artistes</option>
                            <option value="date_crea_artist">Dates Créations Artiste</option>
                            <option value="date_crea_album">Dates Créations Album</option>
                            <option value="membre">Membres</option>
                            <option value="location">Location</option>
                        </select>
                    </form>
                    <div class="search_bar">
                        <form action="/search" class="search-bar" method="post" onChange="submit()">
                            {{if (eq .ADF.SearchBar "artiste")}}
                            <input class="search__input" list="Artists" display="none" type="text" name="search-artist" placeholder="Search">
                            <datalist id="Artists">
                                {{range .A.ApiArtist}}
                                <option value= "{{.Name}}">                  
                                {{end}}
                            </datalist> {{else if (eq .ADF.SearchBar "date_crea_artist")}}
                            <input class="search__input" list="Dates" display="none" type="search" name="search-crea-artist">
                            <datalist id="Dates">
                                {{range .A.ApiArtist}}
                                <option value= "{{.CreationDate}} - {{.Name}}">      
                                {{end}}
                                {{else if (eq .ADF.SearchBar "date_crea_album")}}
                            <input class="search__input" list="Dates" display="none" type="search" name="search-crea-album">
                            <datalist id="Dates">
                                {{range .A.ApiArtist}}
                                <option value= "{{.FirstAlbum}} - {{.Name}}">  
                                {{end}}
                            </datalist> {{else if (eq .ADF.SearchBar "location")}}
                            <input class="search__input" list="location" display="none" type="search" name="search-location">
                            <datalist id="location">
                                {{range $index, $elements :=.A.ApiLocations}} {{range .Locations}}
                                <option value="{{.}} - {{$elements.Name}}">
                                {{end}} {{end}}
                            </datalist>{{else if (eq .ADF.SearchBar "membre")}}
                            <input class="search__input" list="membre" display="none" type="search" name="search-membre">
                            <datalist id="membre">
                                {{range $index, $elements :=.A.ApiArtist}} {{range .Members}}
                                <option value="{{.}} - {{$elements.Name}}">
                                {{end}} {{end}}
                            </datalist> {{end}}
                            <!-- <button class="search-btn" type="submit">
                                <span>Search</span>
                            </button> -->
                        </form>
                    </div>
                    <a href="/artiste" class="next">Next</a>
                </div>
            </div>

        </div>
        <div id="third-page">
            <h1 class="test">EVENT</h1>

        </div>
    </div>

</body>

</html>